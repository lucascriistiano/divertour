<ui:composition template="/pages/include/template_paper.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<ui:define name="title">Lugares</ui:define>
	
	<ui:define name="title-paper">Lugares  <b:iconAwesome name="map-marker"/></ui:define>
		
	<ui:define name="first-topic">
		 Busca
	</ui:define>
	
	<ui:define name="content-paper">	
		<h:form>
			<b:row style="padding-top:10px;">
				<b:column col-md="6">
					<h:outputLabel for="filter" value="Filtrar por: " /><br/>
					<b:selectOneMenu id="filter" value="#{searchPlaceMBean.selectedFilter}" valueChangeListener="#{searchPlaceMBean.test()}" onchange="">
						<f:selectItems value="#{searchPlaceMBean.filters}" var="filter" itemValue="#{filter.filterName}" itemLabel="#{filter.filterDisplayName}" />
					</b:selectOneMenu>
				
				</b:column>

				<b:column col-md="6">
					<b:selectOneMenu id="filter-values" value="#{searchPlaceMBean.selectedFilterValue}" style="margin-top:25px;">
						<f:selectItems value="#{searchPlaceMBean.values}" var="value" itemValue="#{value}" itemLabel="#{value}" />
					</b:selectOneMenu>
				</b:column>
			</b:row>
	
			<b:row>
				<b:column col-md="12">	
					<b:panel style="box-shadow:0 3px 2px -2px rgba(200,200,200,0.2);border-radius:0;">
						<b:row styleClass="list-item" style="box-shadow:none;">
							<b:column col-md="10">
								<h3 style="margin-top:6px;">Registrar um lugar</h3>
							</b:column>
							<b:column col-md="2">
								<b:commandButton value="Novo Lugar"  styleClass="list-button" />
							</b:column>						
						
						</b:row>
					</b:panel>
				
					<ui:repeat value="#{searchPlaceMBean.foundResults}" var="place">
						<b:panel style="box-shadow:0 3px 2px -2px rgba(200,200,200,0.2);border-radius:0;" >
							<b:row styleClass="list-item" style="box-shadow:none;">
								<b:column col-md="3">
									<h:panelGroup layout="block" style="height:100%;">
										<h:outputText for="images" value="Imagens:" /><br/>
									</h:panelGroup>
								</b:column>
								<b:column col-md="7">
									<h3 style="margin-top:6px;">#{place.name}</h3>
	        						<p:rating value="#{place.rating}" readonly="true" /><br/>
									<h:outputText value="#{place.description}"/><br/> 
								</b:column>
								<b:column col-md="2">
									<b:commandButton value="Ver mais" action="#{searchPlaceMBean.showDetails(place.id)}" styleClass="list-button" />
									<b:commandButton value="Adicionar Ã  Rota" action="#{searchPlaceMBean.addToRoute(place.id)}" styleClass="list-button" />
								</b:column>
							</b:row>
						</b:panel>
					</ui:repeat>
				</b:column>
			</b:row>
		</h:form>
		
	<script>
		$(function(){
			$('#firstRow').css('display','none');	
		});
	
	</script>	
		
	</ui:define>
</ui:composition>