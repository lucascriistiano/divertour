<ui:composition template="/pages/include/template.xhtml"
	xmlns="http://www.w3.org/1999/xhtml" xmlns:b="http://bootsfaces.net/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<ui:define name="title">Lugares</ui:define>

	<ui:define name="content">
		<b:container styleClass="background">
			<h1>Lugares</h1>

			<h:form>
				<br></br>		
				<h:outputLabel value="Busca Parametrizada: " />
				<br></br>
				
				<h:outputLabel for="type" value="Tipo " />
				<p:selectOneMenu id="type" value="#{searchPlaceMBean.type}">
					<f:selectItems value="#{placeMBean.typesOfPlace}" var="type"
						itemValue="#{type}" itemLabel="#{type}" />
				</p:selectOneMenu>
				
				<h:outputLabel for="category" value="Categoria " />
				<p:selectOneMenu id="category" value="#{searchPlaceMBean.category}">
					<f:selectItems value="#{placeMBean.categoriesOfPlace}" var="category"
						itemValue="#{category}" itemLabel="#{category}" />
				</p:selectOneMenu>

				<h:outputLabel value="Cidade: " />
				<p:selectOneMenu value="#{searchPlaceMBean.city}">
					<f:selectItems value="#{placeMBean.cities}" var="city"
						itemValue="#{city}" itemLabel="#{city.name}/#{city.state}" />
				</p:selectOneMenu>


				<p:dataTable id="place-datatable-search" var="place"
					value="#{searchPlaceMBean.foundResults}" sortMode="multiple" scrollable="true"
					scrollHeight="150">
					<p:column headerText="Nome" sortBy="#{place.name}">
						<h:outputText value="#{place.name}" />
					</p:column>

					<p:column headerText="Cidade" sortBy="#{place.city}">
						<h:outputText value="#{place.city.name}/#{place.city.state}" />
					</p:column>

					<p:column headerText="Categoria" sortBy="#{place.categories}">
						<h:outputText value="#{place.categories}" />
					</p:column>

					<p:column headerText="Tipo" sortBy="#{place.type}">
						<h:outputText value="#{place.type}" />
					</p:column>
					
					<p:column headerText="Ver mais" style="width:60px;text-align: center">
	             		<p:commandButton update="place-datatable-search" icon="ui-icon-plus" />
	            	</p:column>

				</p:dataTable>
			</h:form>




		</b:container>
	</ui:define>

</ui:composition>