<ui:composition template="/pages/include/template.xhtml"
	xmlns="http://www.w3.org/1999/xhtml" xmlns:b="http://bootsfaces.net/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<ui:define name="title">Novo Lugar</ui:define>

	<ui:define name="extra_script">
		<script
			src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDgeHiIZP3daD3XwqOFpjaFPTkU1cAWask&amp;libraries=places&amp;callback=initAutocomplete"
			async="async" defer="defer"></script>
		<h:outputScript library="common" name="js/mapscript.js" />
	</ui:define>

	<ui:define name="content-area">
		<h:panelGroup id="wrapper" layout="block">
			<h:panelGroup id="map-canvas" layout="block"></h:panelGroup>
			<h:panelGroup id="push" layout="block"></h:panelGroup>

			<h:form prependId="false">
				<b:inputText id="pac-input" styleClass="controls" type="text" placeholder="Endereço ou nome do local" />
				<h:panelGroup id="over-map-left" class="over-map" layout="block">
					<h:outputText for="name" value="Nome:" />
					<b:inputText id="name" value="#{placeMBean.place.name}" placeholder="Nome do lugar" />

					<h:outputText for="description" value="Descrição: " />
					<p:inputTextarea id="description" rows="5" autoResize="false" value="#{placeMBean.place.description}" placeholder="Descrição do local" style="width:100%;" />

					<h:outputText for="type" value="Tipo: " />
					<b:selectOneMenu id="type" value="#{placeMBean.place.type}">
						<f:selectItems value="#{placeMBean.typesOfPlace}" var="type" itemValue="#{type}" itemLabel="#{type}" />
					</b:selectOneMenu>

					<h:outputText for="website" value="Website: " />
					<b:inputText id="website" value="#{placeMBean.place.website}" placeholder="Website do local" />

					<h:outputText for="contacts" value="Contato(s): " />
					<b:inputText id="contacts" value="#{placeMBean.insertedContact}" placeholder="Contatos do local" />
					<p:commandButton value="Adicionar" action="#{placeMBean.addContact}" />

					<h:inputHidden id="currentLat" value="#{placeMBean.currentLat}" />
					<h:inputHidden id="currentLng" value="#{placeMBean.currentLng}" />
				</h:panelGroup>

				<h:panelGroup id="over-map-right" class="over-map" layout="block">
					<h:outputText for="images" value="Imagens: " />
					<p:fileUpload value="#{placeMBean.selectedFile}" mode="simple" skinSimple="true" />
					<p:commandButton value="Submit" ajax="false" actionListener="#{placeMBean.addImage}" disabled="true" />

					<p:galleria value="#{placeMBean.uploadedFiles}" var="image"
						panelHeight="200" panelWidth="200" showCaption="true">
						<p:graphicImage name="demo/images/nature/#{image}" alt="Image Description for #{image}" title="#{image}" />
					</p:galleria>

					<p:commandButton value="Registrar" action="#{placeMBean.register}" />
				</h:panelGroup>
			</h:form>
		</h:panelGroup>
	</ui:define>
	
</ui:composition>